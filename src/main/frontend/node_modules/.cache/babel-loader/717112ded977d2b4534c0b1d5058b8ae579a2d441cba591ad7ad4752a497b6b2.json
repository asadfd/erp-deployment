{"ast":null,"code":"import _objectSpread from\"/mnt/c/Users/Asad Dimtimkar/IdeaProjects/ERPcustomV1/ERPcustom/src/main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserList=_ref=>{let{onBack}=_ref;const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{setLoading(true);const response=await axios.get('/api/users/list');if(response.data.success){setUsers(response.data.users);}else{setError('Failed to fetch users');}}catch(error){console.error('Error fetching users:',error);setError('Error fetching users');}finally{setLoading(false);}};const getRoleNames=roles=>{return roles.map(role=>role.name).join(', ');};const tableStyle={width:'100%',borderCollapse:'collapse',backgroundColor:'white',boxShadow:'0 2px 4px rgba(0,0,0,0.1)',borderRadius:'4px',overflow:'hidden'};const thStyle={backgroundColor:'#f8f9fa',color:'#333',fontWeight:'bold',padding:'12px 16px',textAlign:'left',borderBottom:'2px solid #dee2e6'};const tdStyle={padding:'12px 16px',borderBottom:'1px solid #dee2e6'};const statusStyle=enabled=>_objectSpread(_objectSpread({},tdStyle),{},{color:enabled?'#28a745':'#dc3545',fontWeight:'bold'});if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'2rem'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading users...\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#dc3545'},children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{backgroundColor:'#6c757d',color:'white',border:'none',padding:'0.5rem 1rem',borderRadius:'4px',cursor:'pointer',marginTop:'1rem'},children:\"Back to User Management\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#333',margin:0},children:\"User List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{backgroundColor:'#6c757d',color:'white',border:'none',padding:'0.5rem 1rem',borderRadius:'4px',cursor:'pointer'},children:\"Back to User Management\"})]}),users.length===0?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'#666'},children:\"No users found.\"}):/*#__PURE__*/_jsxs(\"table\",{style:tableStyle,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Roles\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{style:{'&:hover':{backgroundColor:'#f8f9fa'}},children:[/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:user.username}),/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:getRoleNames(user.roles)}),/*#__PURE__*/_jsx(\"td\",{style:statusStyle(user.enabled),children:user.enabled?'Active':'Inactive'})]},user.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',fontSize:'0.9rem',color:'#666'},children:[\"Total users: \",users.length]})]});};export default UserList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UserList","_ref","onBack","users","setUsers","loading","setLoading","error","setError","fetchUsers","response","get","data","success","console","getRoleNames","roles","map","role","name","join","tableStyle","width","borderCollapse","backgroundColor","boxShadow","borderRadius","overflow","thStyle","color","fontWeight","padding","textAlign","borderBottom","tdStyle","statusStyle","enabled","_objectSpread","style","children","onClick","border","cursor","marginTop","display","justifyContent","alignItems","marginBottom","margin","length","user","username","id","fontSize"],"sources":["/mnt/c/Users/Asad Dimtimkar/IdeaProjects/ERPcustomV1/ERPcustom/src/main/frontend/src/components/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst UserList = ({ onBack }) => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/users/list');\n      if (response.data.success) {\n        setUsers(response.data.users);\n      } else {\n        setError('Failed to fetch users');\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      setError('Error fetching users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getRoleNames = (roles) => {\n    return roles.map(role => role.name).join(', ');\n  };\n\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    backgroundColor: 'white',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n    borderRadius: '4px',\n    overflow: 'hidden'\n  };\n\n  const thStyle = {\n    backgroundColor: '#f8f9fa',\n    color: '#333',\n    fontWeight: 'bold',\n    padding: '12px 16px',\n    textAlign: 'left',\n    borderBottom: '2px solid #dee2e6'\n  };\n\n  const tdStyle = {\n    padding: '12px 16px',\n    borderBottom: '1px solid #dee2e6'\n  };\n\n  const statusStyle = (enabled) => ({\n    ...tdStyle,\n    color: enabled ? '#28a745' : '#dc3545',\n    fontWeight: 'bold'\n  });\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '2rem' }}>\n        <p>Loading users...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ textAlign: 'center', padding: '2rem' }}>\n        <p style={{ color: '#dc3545' }}>{error}</p>\n        <button\n          onClick={onBack}\n          style={{\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            padding: '0.5rem 1rem',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            marginTop: '1rem'\n          }}\n        >\n          Back to User Management\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '1.5rem' \n      }}>\n        <h2 style={{ color: '#333', margin: 0 }}>User List</h2>\n        <button\n          onClick={onBack}\n          style={{\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            padding: '0.5rem 1rem',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Back to User Management\n        </button>\n      </div>\n\n      {users.length === 0 ? (\n        <p style={{ textAlign: 'center', color: '#666' }}>No users found.</p>\n      ) : (\n        <table style={tableStyle}>\n          <thead>\n            <tr>\n              <th style={thStyle}>Username</th>\n              <th style={thStyle}>Roles</th>\n              <th style={thStyle}>Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => (\n              <tr key={user.id} style={{ '&:hover': { backgroundColor: '#f8f9fa' } }}>\n                <td style={tdStyle}>{user.username}</td>\n                <td style={tdStyle}>{getRoleNames(user.roles)}</td>\n                <td style={statusStyle(user.enabled)}>\n                  {user.enabled ? 'Active' : 'Inactive'}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n\n      <div style={{ marginTop: '1rem', fontSize: '0.9rem', color: '#666' }}>\n        Total users: {users.length}\n      </div>\n    </div>\n  );\n};\n\nexport default UserList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}